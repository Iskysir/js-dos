<html>
    <head>
        <meta charset="utf-8">
        <title>Digger Example</title>
        <script src="emulators/emulators.js"></script>
        <script src="emulators-ui/emulators-ui.js"></script>
        <link rel="stylesheet" href="emulators-ui/emulators-ui.css">
        <link rel="stylesheet" href="examples.css">
    </head>

    <body>
        <div class="layout">
            <div class="controls">
                <Button onclick="javascript:start()">Start</Button>
                <Button onclick="javascript:stop()">Stop</Button>
                <Select id="impl-select">
                    <option value="dos-worker" selected>dos worker</option>
                    <option value="dos-direct">dos direct</option>
                </Select>
            </div>
            <div id="root" style="width: 100%; height: 100%;"></div>
        </div>
        <script>
         emulators.pathPrefix = "emulators/";
         const emulator = createEmulator(document.getElementById("root"));

         function start() {
             const implName = document.getElementById("impl-select").value;
             const impl = implName === "dos-worker" ?
                          emulators.dosWorker : emulators.dosDirect;
             emulator.runBundle("bundles/digger.jsdos", impl);
         }

         function stop() {
             emulator.ci.then((ci) => ci.exit());
         }
        </script>
    </body>
</html>
